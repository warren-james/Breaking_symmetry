# empty frame
temp <- data.frame(attempt = numeric(),
num_succ = numeric())
# loop through
for(iter in 1:10){
# check
continue = TRUE
# count
count = 0
while(continue == TRUE){
success = rbinom(1,1,a)
if(success == 1){
count = count + 1
print(count)
} else {
continue = FALSE
print("done")
}
}
}
rm(list = ls())
for(iter in 1:10){
# check
continue = TRUE
# count
count = 0
while(continue == TRUE){
success = rbinom(1,1,a)
if(success == 1){
count = count + 1
} else {
continue = FALSE
num_succ = count
}
}
temp <- rbind(temp, data.frame(attempt = iter,
num_succ = num_succ))
}
# chance to succeed
a <- 0.1
# empty frame
temp <- data.frame(attempt = numeric(),
num_succ = numeric())
# loop through
for(iter in 1:10){
# check
continue = TRUE
# count
count = 0
while(continue == TRUE){
success = rbinom(1,1,a)
if(success == 1){
count = count + 1
} else {
continue = FALSE
num_succ = count
}
}
temp <- rbind(temp, data.frame(attempt = iter,
num_succ = num_succ))
}
View(temp)
rm(list = ls())
# chance to succeed
a <- 0.1
# empty frame
temp <- data.frame(attempt = numeric(),
num_succ = numeric())
# loop through
for(iter in 1:1000000){
# check
continue = TRUE
# count
count = 0
while(continue == TRUE){
success = rbinom(1,1,a)
if(success == 1){
count = count + 1
} else {
continue = FALSE
num_succ = count
}
}
temp <- rbind(temp, data.frame(attempt = iter,
num_succ = num_succ))
}
temp %>%
ggplot(aes(num_succ)) +
geom_density()
library(tidyverse)
temp %>%
ggplot(aes(num_succ)) +
geom_density()
range(temp$num_succ)
a <- 0.5
# empty frame
temp <- data.frame(attempt = numeric(),
num_succ = numeric())
# loop through
for(iter in 1:100000){
# check
continue = TRUE
# count
count = 0
while(continue == TRUE){
success = rbinom(1,1,a)
if(success == 1){
count = count + 1
} else {
continue = FALSE
num_succ = count
}
}
temp <- rbind(temp, data.frame(attempt = iter,
num_succ = num_succ))
}
temp %>%
ggplot(aes(num_succ)) +
geom_density()
range(temp$num_succ)
library(tidyverse)
library(rethinking)
hpid
hpdi
HPDI
q()
help(shape)
??shape
dev.off()
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rnorm(1, 15, 10)
rbernoulli(1, p = 0.5)
library(brms)
rbernoulli(1, p = 0.5)
library(rstan)
rbernoulli(1, p = 0.5)
seq(3, 13.7, (13.7-3)/8)
seq(3, 13.7, (13.7-3)/7)
seq(3, 13.7, (13.7-3)/8)
(0.5*1)+(0.5*0.1)
(0.8*1)+(0.2*0.1)
(0.55+0.82)/2
setwd("F:/Uni/Github/Breaking_symmetry/Analyses/Experiment_4_Prob")
library(rstan)
library(tidyverse)
library(brms)
library(tidybayes)
#### Constants ####
# Gets Visual Degrees
get_VisDegs <- function(separation,distance){
((2*atan2(separation,(2*distance)))*180)/pi
}
#### Any constants ####
Screen_dist <- 54.4
ppcm <- 1920/54
#### load in data ####
load("scratch/new_data/df_part2")
#### Sort data ####
model_data <- df_part2 %>%
select(participant, bias, block, trial, separation, fixated_box, standard_boxes, bias_type) %>%
group_by(participant) %>%
mutate(Delta = separation/max(separation)) %>%
ungroup() %>%
mutate(fixated_likely = as.factor(ifelse(standard_boxes == "most likely", 1, 0)),
fixated_centre = as.factor(ifelse(standard_boxes == "centre", 1, 0)))
m1_centre_binom <- brm(fixated_centre ~ bias_type,
data = model_data,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
summary(m1_centre_binom)
plot(marginal_effects(m1_centre_binom))
m2_centre_binom <- brm(fixated_centre ~ bias_type + Delta,
data = model_data,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
summary(m2_centre_binom)
plot(marginal_effects(m2_centre_binom))
m3_centre_binom <- brm(fixated_centre ~ (bias_type + Delta)^2,
data = model_data,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
summary(m3_centre_binom)
plot(marginal_effects(m3_centre_binom))
plt <- model_data %>%
add_predicted_draws(m3_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
theme_minimal() +
ggthemes::scale_color_ptol() +
ggthemes::scale_fill_ptol() +
facet_wrap(~bias_type)
plt
plt <- model_data %>%
add_predicted_draws(m3_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
theme_minimal() +
see::scale_color_flat() +
ggthemes::scale_fill_ptol() +
facet_wrap(~bias_type)
plt
plt <- model_data %>%
add_predicted_draws(m3_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
theme_minimal() +
see::scale_colour_pizza() +
ggthemes::scale_fill_ptol() +
facet_wrap(~bias_type)
plt
plt <- model_data %>%
add_predicted_draws(m3_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
theme_minimal() +
see::scale_colour_pizza() +
see::scale_fill_pizza() +
facet_wrap(~bias_type)
plt
plt <- model_data %>%
add_predicted_draws(m3_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
theme_minimal() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt
plt <- model_data %>%
add_predicted_draws(m3_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt
plt$labels$x <- "Proportion of fixations to the centre"
plt
head(model_data)
m4_centre_binom <- brm(fixated_centre ~ (bias_type + Delta)^2 + (1|participant),
data = model_data,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
summary(m4_centre_binom)
plot(marginal_effects(m4_centre_binom))
plt <- model_data %>%
add_predicted_draws(m4_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt$labels$x <- "Proportion of fixations to the centre"
plt
m4_centre_binom <- brm(fixated_centre ~ (bias_type + Delta)^2 + (1 + Delta|participant),
data = model_data,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
summary(m4_centre_binom)
plot(marginal_effects(m4_centre_binom))
plt <- model_data %>%
add_predicted_draws(m3_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt$labels$x <- "Proportion of fixations to the centre"
plt
plt <- model_data %>%
add_predicted_draws(m4_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt$labels$x <- "Proportion of fixations to the centre"
plt
m6_centre_binom <- brm(fixated_centre ~ (bias_type + Delta)^2 + (1 + bias_type + Delta|participant),
data = model_data,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
summary(m6_centre_binom)
plot(marginal_effects(m6_centre_binom))
plt <- model_data %>%
add_predicted_draws(m4_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt$labels$x <- "Proportion of fixations to the centre"
plt
plt <- model_data %>%
add_predicted_draws(m6_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt$labels$x <- "Proportion of fixations to the centre"
plt
m7_centre_binom <- brm(fixated_centre ~ (bias_type + Delta)^2 + (1 + (bias_type + Delta)^2|participant),
data = model_data,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
summary(m7_centre_binom)
plt <- model_data %>%
add_predicted_draws(m7_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt$labels$x <- "Proportion of fixations to the centre"
plt
model_data %>% group_by(Delta) %>% summarise(n = n()) %>% ggplot(aes(Delta, n)) + geom_bar()
model_data %>% group_by(Delta) %>% summarise(n = n()) %>% ggplot(aes(Delta, n)) + geom_point()
head(model_data)
model_data %>% group_by(Delta) %>% ggplot(aes(Delta)) + geom_density()
model_data %>% group_by(Delta) %>% ggplot(aes(Delta)) + geom_histogram()
head(df_part2)
df_part2 %>% ggplot(aes(separation)) + geom_density()
df_part2 %>% ggplot(aes(separation)) + geom_histogram()
model_data_trim <- df_part2 %>%
filter(separation < 600) %>%
select(participant, bias, block, trial, separation, fixated_box, standard_boxes, bias_type) %>%
group_by(participant) %>%
mutate(Delta = separation/max(separation)) %>%
ungroup() %>%
mutate(fixated_likely = as.factor(ifelse(standard_boxes == "most likely", 1, 0)),
fixated_centre = as.factor(ifelse(standard_boxes == "centre", 1, 0)))
summary(m1_centre_binom)
m1_centre_binom_original = m1_centre_binom
m1_centre_binom <- brm(fixated_centre ~ bias_type,
data = model_data_trim,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
plot(marginal_effects(m1_centre_binom))
plot(marginal_effects(m1_centre_binom_original))
m4_centre_binom_original = m4_centre_binom
m4_centre_binom <- brm(fixated_centre ~ (bias_type + Delta)^2 + (1|participant),
data = model_data_trim,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
summary(m4_centre_binom)
plot(marginal_effects(m4_centre_binom))
summary(m4_centre_binom_original)
plt <- model_data %>%
add_predicted_draws(m4_centre_binom_original) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt$labels$x <- "Proportion of fixations to the centre"
plt
plt <- model_data %>%
add_predicted_draws(m4_centre_binom) %>%
group_by(.row, bias_type, Delta) %>%
summarise(.prediction = mean(.prediction)) %>%
ungroup() %>%
filter(Delta == max(Delta) | Delta == min(Delta)) %>%
mutate(Delta = as.factor(Delta)) %>%
ggplot(aes(.prediction,
colour = Delta,
fill = Delta)) +
geom_density(alpha = 0.3) +
see::theme_modern() +
see::scale_colour_material() +
see::scale_fill_material() +
facet_wrap(~bias_type)
plt$labels$x <- "Proportion of fixations to the centre"
plt
summary(m4_centre_binom)
summary(m4_centre_binom_original)
m7_centre_binom_original = m7_centre_binom
m7_centre_binom <- brm(fixated_centre ~ (bias_type + Delta)^2 + (1 + (bias_type + Delta)^2|participant),
data = model_data_trim,
family = "bernoulli",
cores = 1,
chains = 1,
iter = 2000)
rm(list = ls())
dev.off()
